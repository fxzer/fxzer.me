import{d as A,v as g,N as E,O as W,G as F,P as G,e as H,o as O,g as V,a as j,n as q,h as y}from"./app-iqDSxOPW.js";const D="#88888825",J=30,U=A({__name:"ArtPlum",setup(K){const B=Math.PI,k=Math.PI/2,v=Math.PI/12,x=g(null),{random:c}=Math,n=E(W()),P=g(()=>{}),b=g(6),_=g(!1);function z(o,t=400,r=400,l){const e=o.getContext("2d"),s=window.devicePixelRatio||1,a=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,i=s/a;return o.style.width=`${t}px`,o.style.height=`${r}px`,o.width=i*t,o.height=i*r,e.scale(i,i),{ctx:e,dpi:i}}function C(o=0,t=0,r=0,l=0){const e=r*Math.cos(l),s=r*Math.sin(l);return[o+e,t+s]}F(async()=>{const o=x.value,{ctx:t}=z(o,n.width,n.height),{width:r,height:l}=o;let e=[],s=[];const a=(h,R,w,m={value:0})=>{const N=c()*b.value;m.value+=1;const[d,p]=C(h,R,N,w);t.beginPath(),t.moveTo(h,R),t.lineTo(d,p),t.stroke();const $=w+c()*v,T=w-c()*v;if(d<-100||d>n.width+100||p<-100||p>n.height+100)return;const S=m.value<=J?.8:.5;c()<S&&e.push(()=>a(d,p,$,m)),c()<S&&e.push(()=>a(d,p,T,m))};let i=performance.now();const I=1e3/40;let u;u=G(()=>{performance.now()-i<I||(s=e,e=[],i=performance.now(),s.length||(u.pause(),_.value=!0),s.forEach(h=>{c()<.5?e.push(h):h()}))},{immediate:!1});const f=()=>c()*.6+.2;P.value=()=>{u.pause(),t.clearRect(0,0,r,l),t.lineWidth=1,t.strokeStyle=D,s=[],e=[()=>a(f()*n.width,-5,k),()=>a(f()*n.width,n.height+5,-k),()=>a(-5,f()*n.height,0),()=>a(n.width+5,f()*n.height,B)],n.width<500&&(e=e.slice(0,2)),u.resume(),_.value=!1},P.value()});const M=H(()=>"radial-gradient(circle, transparent, black);");return(o,t)=>(O(),V("div",{class:"fixed top-0 bottom-0 left-0 right-0 pointer-events-none print:hidden",style:q([{"z-index":"-1"},`mask-image: ${y(M)};--webkit-mask-image: ${y(M)};`])},[j("canvas",{ref_key:"el",ref:x,width:"400",height:"400"},null,512)],4))}});export{U as default};
